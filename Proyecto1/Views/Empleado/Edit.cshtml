@model Modelos.Empleado

@{
    ViewData["Title"] = "Editar empleado";
    Layout = "_Layout";
    string modulo = "Empleado";
    string tipo = null;
    string mensaje = null;

    if (TempData["MensajeEmpleadoXExito"] is string exito)
    {
        tipo = "success";
        mensaje = exito;
    }
    else if (TempData["MensajeEmpleadoXError"] is string error)
    {
        tipo = "danger";
        mensaje = error;
    }

    var claseBootstrap = tipo switch
    {
        "success" => "alert-success",
        "danger" => "alert-danger",
        _ => "alert-info"
    };

    var icono = tipo switch
    {
        "success" => "fa-check-circle",
        "danger" => "fa-exclamation-circle",
        _ => "fa-info-circle"
    };
}

<div class="empleados-container">
    <h2 class="text-center mb-4">
        <i class="fas fa-user-edit me-2"></i>@ViewData["Title"]
    </h2>

    <!-- 🔔 Mensaje del sistema -->
    @if (!string.IsNullOrWhiteSpace(mensaje))
    {
        <div class="alert @claseBootstrap alert-dismissible fade show text-center mx-auto w-75" role="alert">
            <i class="fas @icono me-2"></i> @Html.Raw(mensaje)
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
        </div>
    }

    <form asp-action="Edit" method="post">
        @Html.AntiForgeryToken()
        <input type="hidden" asp-for="Id" />
        <div asp-validation-summary="ModelOnly" class="text-danger text-center mb-3"></div>

        <!-- Identificación -->
        <div class="mb-3">
            <label asp-for="Identificacion" class="form-label"></label>
            <input asp-for="Identificacion" class="form-control" />
            <span asp-validation-for="Identificacion" class="text-danger"></span>
        </div>

        <!-- Nombre completo -->
        <div class="mb-3">
            <label asp-for="NombreCompleto" class="form-label"></label>
            <input asp-for="NombreCompleto" class="form-control" />
            <span asp-validation-for="NombreCompleto" class="text-danger"></span>
        </div>

        <!-- Puesto -->
        <div class="mb-3">
            <label asp-for="Puesto" class="form-label"></label>
            <input asp-for="Puesto" class="form-control" />
            <span asp-validation-for="Puesto" class="text-danger"></span>
        </div>

        <!-- Teléfono -->
        <div class="mb-3">
            <label asp-for="Telefono" class="form-label"></label>
            <input asp-for="Telefono" class="form-control" />
            <span asp-validation-for="Telefono" class="text-danger"></span>
        </div>

        <!-- Correo -->
        <div class="mb-3">
            <label asp-for="Correo" class="form-label"></label>
            <input asp-for="Correo" type="email" class="form-control" />
            <span asp-validation-for="Correo" class="text-danger"></span>
        </div>

        <!-- Fecha de nacimiento -->
        <div class="mb-3">
            <label asp-for="FechaNacimiento" class="form-label"></label>
            <input asp-for="FechaNacimiento" type="date" class="form-control" />
            <span asp-validation-for="FechaNacimiento" class="text-danger"></span>
        </div>

        <!-- Fecha de ingreso -->
        <div class="mb-3">
            <label asp-for="FechaIngreso" class="form-label"></label>
            <input asp-for="FechaIngreso" type="date" class="form-control" />
            <span asp-validation-for="FechaIngreso" class="text-danger"></span>
        </div>

        <!-- Fecha de retiro -->
        <div class="mb-3">
            <label asp-for="FechaRetiro" class="form-label"></label>
            <input asp-for="FechaRetiro" type="date" class="form-control" />
            <span asp-validation-for="FechaRetiro" class="text-danger"></span>
        </div>

        <!-- Salario por día -->
        <div class="mb-3">
            <label asp-for="SalarioPorDia" class="form-label"></label>
            <input asp-for="SalarioPorDia" type="number" step="0.01" class="form-control" />
            <span asp-validation-for="SalarioPorDia" class="text-danger"></span>
        </div>

        <!-- Días de vacaciones -->
        <div class="mb-3">
            <label asp-for="DiasVacaciones" class="form-label"></label>
            <input asp-for="DiasVacaciones" type="number" class="form-control" />
            <span asp-validation-for="DiasVacaciones" class="text-danger"></span>
        </div>

        <!-- Monto liquidación -->
        <div class="mb-4">
            <label asp-for="MontoLiquidacion" class="form-label"></label>
            <input asp-for="MontoLiquidacion" type="number" step="0.01" class="form-control" />
            <span asp-validation-for="MontoLiquidacion" class="text-danger"></span>
        </div>

        <!-- Botones -->
        <div class="d-flex justify-content-center gap-3 mt-3">
            <button type="submit" class="btn btn-success">
                <i class="fas fa-save me-1"></i> Guardar cambios
            </button>
            <a asp-action="Index" class="btn btn-outline-secondary">
                <i class="fas fa-arrow-left me-1"></i> Cancelar
            </a>
        </div>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
